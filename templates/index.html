<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Classifier using PyTorch and TensorFlow</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="text-center mb-4">
        Image Classifier using PyTorch and TensorFlow
      </h1>
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="container mt-3 mb-4">
            <div class="card bg-light">
              <div class="card-body">
                <h5 class="card-title">About This Classifier</h5>
                <p class="card-text">
                  This Image classifier demonstrates the capabilities of two
                  popular deep learning frameworks. The TensorFlow model uses
                  MobileNetV2 pre-trained on ImageNet , while the PyTorch
                  implementation leverages ResNet50 pre-trained on ImageNet .
                  Both models can recognize approximately 1,000 different object
                  categories including animals, household items, vehicles, and
                  more. The visualization tools help illustrate differences in
                  how each framework processes and classifies the same image.
                </p>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Upload an Image</h5>
              <form id="upload-form">
                <!-- Add drop zone for drag and drop -->
                <div class="drop-zone" id="drop-zone">
                  <div class="drop-zone__prompt">
                    Drag & drop image here or click to upload
                  </div>
                  <div class="input-methods">
                    <p>
                      <i class="bi bi-info-circle"></i> You can also paste an
                      image (Ctrl+V or Cmd+V)
                    </p>
                  </div>
                  <input
                    type="file"
                    class="drop-zone__input"
                    id="image-upload"
                    accept="image/*"
                  />
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-primary">
                    Classify Image
                  </button>
                </div>
              </form>

              <div id="loading" class="loading">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p>Processing image with both models...</p>
              </div>

              <div id="results" class="mt-4" style="display: none">
                <div class="text-center mb-3">
                  <img id="preview-image" src="" alt="Uploaded Image" />
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="card result-card">
                      <div class="card-header bg-primary text-white">
                        TensorFlow Results
                      </div>
                      <div class="card-body">
                        <div id="tensorflow-results"></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="card result-card">
                      <div class="card-header bg-success text-white">
                        PyTorch Results
                      </div>
                      <div class="card-body">
                        <div id="pytorch-results"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="card result-card">
                      <div class="card-header bg-primary text-white">
                        TensorFlow Results
                      </div>
                      <div class="card-body">
                        <div id="tensorflow-results"></div>
                        <div class="chart-container">
                          <canvas id="tensorflow-chart"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="card result-card">
                      <div class="card-header bg-success text-white">
                        PyTorch Results
                      </div>
                      <div class="card-body">
                        <div id="pytorch-results"></div>
                        <div class="chart-container">
                          <canvas id="pytorch-chart"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Add Insights Section -->
                <div class="insights-section mt-4">
                  <h4>Model Comparison Insights</h4>
                  <div id="insights-content"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/classification.js') }}"></script>
    <script src="{{ url_for('static', filename='js/drag-n-drop.js') }}"></script>
  </body>
</html>
